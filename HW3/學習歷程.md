本次的財務工程實作是要實際使用Backward Induction來計算歐式選擇權之定價。

給定利率、期數、現價、履約價、股價每期之漲跌幅資訊，我們可以透過下述之流程來逐步推算選擇權價格：

(1)首先逐步推算出每一期之股價可能出現之可能價格

(2)透過給定之公式計算call/put之價值：

![\\[putprice = \sum_{i=0}^{n}\frac{C_{i}^{n}p^{i}(1-p)^{n-i}\max(0,x-Su^{i}d^{n-i})}{R^{n}}\\]](https://render.githubusercontent.com/render/math?math=%5C%5Bputprice%20%3D%20%5Csum_%7Bi%3D0%7D%5E%7Bn%7D%5Cfrac%7BC_%7Bi%7D%5E%7Bn%7Dp%5E%7Bi%7D(1-p)%5E%7Bn-i%7D%5Cmax(0%2Cx-Su%5E%7Bi%7Dd%5E%7Bn-i%7D)%7D%7BR%5E%7Bn%7D%7D%5C%5D)

![\\[callprice = \sum_{i=0}^{n}\frac{C_{i}^{n}p^{i}(1-p)^{n-i}\max(0,Su^{i}d^{n-i}-x)}{R^{n}}\\]](https://render.githubusercontent.com/render/math?math=%5C%5Bcallprice%20%3D%20%5Csum_%7Bi%3D0%7D%5E%7Bn%7D%5Cfrac%7BC_%7Bi%7D%5E%7Bn%7Dp%5E%7Bi%7D(1-p)%5E%7Bn-i%7D%5Cmax(0%2CSu%5E%7Bi%7Dd%5E%7Bn-i%7D-x)%7D%7BR%5E%7Bn%7D%7D%5C%5D)



對於歐式選擇權，我們可以針對最後一期之可能股票價格來計算選擇權之現值。
考慮風險中立測度下，此選擇權在每一期均有上漲機率p與下跌機率(1-p)，我們可以直接透過排列組合公式並折現得到現值。
因為歐式選擇權不需要考慮先履約的情形，因此使用公式解會是最快速方便之情況。

使用公式解我們可以得到與講義上同樣之call價值，不需要一步一步往前推。

接下來我想討論的是美式選擇權之定價，在美式選擇權之賣權定價中必須使用到backward induction,基本上公式不存在，原因是因為股價有可能過低導致先履約的可能性出現。
詳細的推論請見：https://www.math.ucla.edu/~caflisch/181.1.07w/Lect18.pdf 解釋十分詳細。

在本次的作業中我實作了美式買權與賣權之backward induction,得到了美式買權價格等於歐式買權的結果。且根據範例資訊，美式賣權相較歐式賣權多了接近一倍的價值。
原因是因為在每一期中相較於下一期的折現價值，投資人有機會透過先履約獲得更大利益，因此我們必須透過比較每一期之履約與否來考慮該期之選擇權價值。

我在輸出中匯出了美式選擇權之定價樹。

最後我探討了歐式選擇權之時間價值（對美式選擇權來說，愈晚到期之選擇權有愈高的時間價值，因為我們可對較晚到期之選擇權做出對較早到期之選擇權之所有可能操作）
結論：

(1) 歐式買權之時間價值為正
(2) 歐式賣權之時間價值不確定，但以長時間來說為負，甚至有可能趨近於0，原因為長期來說，股價掉至0元之機率逐漸上升，此現象造成了賣權之獲利有其upperbound,並隨著
時間之推移導致賣權折現價值逐步下降。

最後考慮計算資源的使用：
我用二維陣列stock_price[期數][可能出現之結果]來儲存各期之可能出現之股價，在backward induction的過程中也是開二維陣列，若要更省資源可以用binary tree
來存放資料，會省下O^(1/2 n^2)的資料量。但考慮到繪圖方便性這次先用較方便的方法。






